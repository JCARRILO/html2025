:root{
  --bg:#fff; --ink:#1a1a1a; --muted:#5b6b75; --border:#e6ebef; --card:#f7f9fb;
  --brand:#2f6e93; --bp-md:1024px;
  /* Gradientes suaves azules (modulares) */
  --grad-blue-1:#cfe0ea;
  --grad-blue-2:#dfe8ee;
  --site-heading:#254b5a;
}
*{ box-sizing:border-box }
html{ scroll-behavior:smooth }
html, body{ width:100%; overflow-x:hidden }
/* Fondo animado global */
html{
  background: linear-gradient(120deg, #3498DB, #9B59B6);
  background-size: 300% 300%;
  animation: bg-shift 20s ease infinite;
}
/* Aplica también al body para sobreescribir el fondo blanco inicial */
body{
  background: linear-gradient(120deg, #3498DB, #9B59B6);
  background-size: 300% 300%;
  animation: bg-shift 20s ease infinite;
}
@keyframes bg-shift{
  0%{ background-position: 0% 50% }
  50%{ background-position: 100% 50% }
  100%{ background-position: 0% 50% }
}

/* Deja ver el gradiente global detrás del header y footer */
header.site, footer.site{ background: transparent !important }
body{ margin:0; color:var(--ink); background:var(--bg); font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial }
.wrap{ max-width:1100px; margin:0 auto; padding:24px 16px }
.visually-hidden, .visualmente-oculto{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden }
.dot{ width:10px; height:10px; border-radius:50%; display:inline-block }
.card{ background:#fff; border:1px solid var(--border); border-radius:12px; padding:14px; margin:16px 0 }
.btn{ display:inline-block; border:1px solid var(--border); background:#fff; color:#184b62; padding:8px 10px; border-radius:10px; text-decoration:none }
.btn:hover, .btn:focus{ background:#e6eef4 }
/* Fondo del header debe cubrir toda su altura (sin corte visual) */
header.site{ background:linear-gradient(180deg, var(--grad-blue-1) 0%, var(--grad-blue-2) 100%) !important; padding:36px 0 24px !important }
header.site h1{
  margin:4px 0 6px;
  font-weight:700;
  line-height:1.2;
  letter-spacing:.2px;
  color:var(--site-heading);
  font-size:clamp(1.125rem, 6vw, 1.75rem);
  overflow-wrap:break-word;
}
header.site .muted{
  color:var(--muted);
  font-size:clamp(.9rem, 3.2vw, 1rem);
  margin-left:auto; margin-right:auto;
  display:block;
  max-width:100%;
  padding-inline:8px;
  box-sizing:border-box;
  white-space:normal;
  word-break:normal;
  overflow-wrap:anywhere;
  hyphens:auto;
}
/* Centrar contenido del header y mostrar imagen de portada */
header.site .wrap{ text-align:center }
header.site::after{
  content:""; display:none; margin:14px auto 0; width:100%; max-width:1100px; height:240px;
  background:url('../assets/images/portadadeheader.jpeg') center/cover no-repeat;
  border-radius:14px; box-shadow:0 8px 24px rgba(0,0,0,.08);
}
/* Imagen de portada como <img> para móviles (oculta por defecto) */
.header-cover{ display:none !important }
footer.site{ background:linear-gradient(var(--bg), var(--grad-blue-2) 58%, var(--grad-blue-1)) !important; padding:16px 0 !important; border-top:1px solid var(--border) }
footer.site p, footer.site small{ margin:0; color:var(--muted) }

/* Botón flotante de avatar que lleva al índice */
.avatar-fab{
  position:fixed; right:24px; bottom:24px; width:56px; height:56px; border-radius:50%;
  display:inline-flex; align-items:center; justify-content:center; background:#fff; border:1px solid var(--border);
  box-shadow:0 6px 18px rgba(0,0,0,.15); z-index:9999; text-decoration:none
}
.avatar-fab img{ width:100%; height:100%; object-fit:cover; border-radius:50% }
.avatar-fab:hover{ transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.18) }
.avatar-fab:focus-visible{ outline:3px solid #99c1da; outline-offset:3px }

/* Layout: contenido + aside (desktop) */
main.wrap{ display:grid; grid-template-columns:minmax(0,1fr) 300px; gap:24px; grid-auto-flow:dense }
.full-bleed{ }
/* Hacer que ciertos bloques abarquen ambas columnas del grid principal */
main.wrap > .full-bleed{ grid-column:1 / -1 }
.lesson-aside{ background:#f8fafc; border:1px solid var(--border); border-radius:12px; padding:12px; height:fit-content; position:sticky; top:16px; grid-column:2; grid-row:1; align-self:start }
main.wrap > :not(.lesson-aside){ grid-column:1 }
.lesson-aside li.is-active a{ font-weight:700; text-decoration:underline }
.lesson-aside li.is-active .dot{ box-shadow:0 0 0 3px rgba(0,0,0,.08) }

/* Móvil/Tablet: apilar aside debajo del contenido y usar todo el ancho */
@media (max-width:1024px){
  .wrap{ max-width:100%; padding-left:12px; padding-right:12px }
  main.wrap{ display:flex; flex-direction:column }
  main.wrap > *{ width:100% }
  .lesson-aside{ display:none }
}

/* En pantallas pequeñas: mostrar imagen completa sin recorte */
@media (max-width:768px){
  header.site::after{ display:none }
  header.site .header-cover{ display:block !important; width:100%; height:auto; max-width:1100px; margin:14px auto 0; border-radius:14px; box-shadow:0 8px 24px rgba(0,0,0,.08) }
}
/* Evitar overflow en viewports estrechos */
@media (max-width:360px){
  header.site .header-cover{ min-width:0; width:100%; max-width:100% }
  .wrap{ padding-left:10px; padding-right:10px }
}

/* Mobile-first overrides */
@media (max-width:1024px){
  /* 1) Layout: base 1 columna */
  main.wrap{ display:block }
}

/* 2) Portada: mostrar <img> por defecto; usar hero en desktop */
.header-cover{ display:block !important; width:100%; max-width:100%; height:auto }
@media (min-width:1024px){
  header.site::after{ display:block }
  .header-cover{ display:none !important }
}

/* Aplica también el fondo animado al contenedor principal para mayor cobertura */
main.wrap{
  background: linear-gradient(120deg, #3498DB, #9B59B6);
  background-size: 300% 300%;
  animation: bg-shift 20s ease infinite;
  border-radius: 0;
}

/* Suaviza tarjetas para que se perciba el fondo sin perder legibilidad */
.card{ background: rgba(255,255,255,.96) }

/* Responsive helpers */
.auto-grid{ display:grid; gap:14px; grid-template-columns:repeat(auto-fit, minmax(240px, 1fr)) }
@media (max-width:480px){ .auto-grid{ gap:10px } }
.demo-square{ width:clamp(72px, 10vw, 100px); height:clamp(72px, 10vw, 100px) }

/* Certificados grid */
.certs-grid figure{ margin:0 }
.certs-grid img{ width:100%; height:auto; display:block; border-radius:12px }
.certs-grid figcaption{ padding:6px 4px 0; color:#5b6b75; font-size:.9rem }
